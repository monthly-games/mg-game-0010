# Dungeon Shop Simulator - 프로덕션 디자인 문서

> game_id: game_0010
> repo: mg-game-0010
> title_kr: 던전 샵 시뮬레이터
> title_en: Dungeon Shop Simulator
> genre_tags: shop, simulation, idle
> doc_type: production_design
> source_of_truth: docs/design/gdd_game_0010.json
> last_updated: 2025-12-19

---

## 1. 재미 요소 (Fun Factors)

### 1.1 핵심 재미 (Core Fun)
| 요소 | 설명 | 강도 |
|------|------|------|
| **상점 경영** | 나만의 던전 상점을 운영하는 재미 | ★★★★★ |
| **아이템 제작** | 레시피로 아이템을 만들어 판매 | ★★★★☆ |
| **던전 탐험** | 재료를 얻기 위한 던전 모험 | ★★★★☆ |
| **성장 만족** | 상점이 커지는 모습을 보는 보람 | ★★★☆☆ |

### 1.2 만족감 요소 (Satisfaction)
- **판매 성공**: 모험가에게 아이템 판매 시 골드 획득
- **레시피 발견**: 새로운 레시피 해금
- **상점 확장**: 진열대/창고 업그레이드
- **방치 수익**: 오프라인 복귀 시 자동 판매 수익

### 1.3 도전 요소 (Challenge)
```
도전 구조:
├── 모험가 요구사항 충족
├── 재료 수급 관리
├── 가격 책정 전략
├── 던전 난이도 도전
└── 특별 주문 처리
```

### 1.4 사회적 요소 (Social)
- **상점 방문**: 친구 상점 방문
- **거래 시스템**: 재료/아이템 교환
- **랭킹**: 일일 매출 랭킹
- **협동 던전**: 함께 던전 탐험

---

## 2. 게임 루프 (Game Loop)

### 2.1 코어 루프 (1~3분)
```
┌─────────────────────────────────────────────────┐
│                    코어 루프                      │
├─────────────────────────────────────────────────┤
│  [재료 확인] → [아이템 제작] → [진열]             │
│       ↑                            ↓             │
│       └──── [판매] ← [모험가 방문] ←┘            │
└─────────────────────────────────────────────────┘
```

**단계별 상세:**
1. **재료 확인** (5초): 보유 재료 및 필요 재료 확인
2. **아이템 제작** (10~30초): 레시피에 따라 아이템 제작
3. **진열** (5초): 제작한 아이템 진열대에 배치
4. **모험가 방문** (지속): NPC 모험가가 상점 방문
5. **판매** (5초): 모험가에게 아이템 판매, 골드 획득

### 2.2 세션 루프 (5~15분)
```
[접속] → [방치 수익] → [재료 확인] → [제작/진열] → [던전 탐험]
                                           ↓
                              [상점 업그레이드] ← [판매 수익]
```

**세션 구성:**
- 방치 수익 확인: 30초
- 아이템 제작/진열: 2~5분
- 던전 탐험 1~2회: 2~5분
- 상점 관리: 1~2분

### 2.3 메타 루프 (장기)
```
┌──────────────────────────────────────────────────────┐
│                     메타 진행                         │
├──────────────────────────────────────────────────────┤
│  [매출 달성] → [상점 확장] → [새 레시피 해금]          │
│         ↓                              ↓             │
│  [새 던전 해금]                  [프레스티지 전환]     │
│         ↓                              ↓             │
│  [희귀 재료 획득] ←────────────────────┘             │
└──────────────────────────────────────────────────────┘
```

### 2.4 플로우 다이어그램
```
[앱 시작]
    ↓
[방치 보상 화면]
    ↓
[메인 상점] ─────→ [레시피북]
    │              [창고]
    │              [상점 관리]
    │              [설정]
    ↓
[던전 선택] → [던전 탐험] → [보상 획득]
                               ↓
                          [상점으로 복귀]
```

---

## 3. BM 모델 (Business Model)

### 3.1 수익화 전략
| 채널 | 비중 | 설명 |
|------|------|------|
| **리워드 광고** | 45% | 생산 가속, 던전 보상 2배 |
| **프리미엄 레시피** | 25% | 특별 아이템 레시피 |
| **편의 기능** | 15% | 자동 제작, 창고 확장 |
| **광고 제거** | 10% | 일회성 구매 |
| **코스메틱** | 5% | 상점 테마, 장식 |

### 3.2 과금 포인트
```
비과금 유저 경험:
├── 모든 레시피 해금 가능 (시간 소요)
├── 기본 상점 테마
├── 광고 시청으로 생산 가속
└── 일일 무료 보석 보너스

과금 유저 혜택:
├── 광고 제거 ($2.99)
├── 프리미엄 레시피 팩 ($3.99~$9.99)
├── 자동 제작 기능 ($4.99)
├── 창고 확장 ($1.99~$4.99)
└── VIP 월정액 ($7.99/월)
```

### 3.3 가격 정책
| 상품 | 가격 | 가치 |
|------|------|------|
| 소량 보석 (100) | $0.99 | 재료 팩 1개 |
| 중량 보석 (500) | $3.99 | 20% 보너스 |
| 대량 보석 (1200) | $7.99 | 40% 보너스 |
| 광고 제거 | $2.99 | 영구 적용 |
| 스타터 팩 | $4.99 | 보석 300 + 레시피 팩 + 광고 제거 |
| VIP 패스 | $7.99/월 | 일일 보석 50 + 자동 제작 |

### 3.4 리텐션 메커니즘
- **일일 보상**: 출석 체크 (7일 사이클)
- **일일 퀘스트**: 제작 N회, 판매 N개, 던전 클리어
- **주간 이벤트**: 특별 주문 이벤트
- **시즌 패스**: 30일 시즌 보상 트랙

---

## 4. 레벨 디자인 (Level Design)

### 4.1 난이도 곡선
```
상점 규모
  ▲
  │                              ╭──────
  │                         ╭────╯
  │                    ╭────╯
  │               ╭────╯
  │          ╭────╯
  │     ╭────╯
  │╭────╯
  └──────────────────────────────────────→ 게임 진행
    1    5   10   15   20   25   30일
```

**성장 공식:**
```
상점_레벨 = floor(총_매출 / 10000)
진열대_최대 = 3 + 상점_레벨
자동_판매_속도 = 기본_속도 × (1 + 상점_레벨 × 0.1)
```

### 4.2 콘텐츠 진행
| 단계 | 해금 조건 | 새로운 요소 |
|------|----------|-------------|
| 초보 상인 | 시작 | 기본 레시피 5개, 던전 1 |
| 견습 상인 | 상점 Lv.5 | 중급 레시피, 자동 판매 |
| 숙련 상인 | 상점 Lv.10 | 던전 2, 특수 모험가 |
| 장인 상인 | 상점 Lv.20 | 고급 레시피, 던전 3 |
| 마스터 상인 | 상점 Lv.30 | 전설 레시피, 무한 던전 |
| 전설 상인 | 프레스티지 | 영구 보너스, 특수 레시피 |

### 4.3 밸런싱 공식
```dart
// 아이템 가격 계산
int calculateItemPrice(Item item) {
  int materialCost = item.materials.map((m) => m.cost).sum;
  double rarityMultiplier = getRarityMultiplier(item.rarity);
  double profitMargin = 1.5; // 50% 이익률
  return (materialCost * rarityMultiplier * profitMargin).toInt();
}

// 방치 수익 계산
int idleRevenuePerHour(Shop shop) {
  int itemsPerHour = shop.displaySlots * shop.sellSpeed;
  int avgItemPrice = shop.displayedItems.map((i) => i.price).average.toInt();
  return itemsPerHour * avgItemPrice;
}

// 던전 보상
int dungeonReward(Dungeon dungeon, int floor) {
  int baseMaterial = dungeon.baseMaterialCount;
  double floorBonus = 1 + floor * 0.1;
  return (baseMaterial * floorBonus).toInt();
}
```

### 4.4 보상 체계
| 보상 유형 | 획득 조건 | 수량 |
|-----------|----------|------|
| 판매 골드 | 아이템 판매 | 아이템 가격 |
| 던전 재료 | 던전 클리어 | 5~20개 |
| 던전 레시피 | 던전 보스 | 확률 드롭 |
| 일일 보석 | 출석 | 10~50 |
| 퀘스트 보상 | 퀘스트 완료 | 골드/재료 |

---

## 5. UI/UX 설계

### 5.1 정보 계층
```
레벨 1 (항상 표시):
├── 현재 골드/보석
├── 진열대 상태
├── 제작 진행 상황
└── 알림 배지

레벨 2 (상호작용 시):
├── 레시피 상세
├── 아이템 정보
├── 모험가 요구사항
└── 던전 정보

레벨 3 (팝업):
├── 판매 완료 알림
├── 레시피 발견
├── 설정 메뉴
└── 확인 다이얼로그
```

### 5.2 네비게이션 흐름
```
[메인 상점]
    ├── [제작] → [레시피 선택] → [제작 시작]
    ├── [진열] → [아이템 배치]
    ├── [던전] → [던전 선택] → [탐험]
    ├── [창고] → [재료/아이템 목록]
    ├── [업그레이드] → [상점 강화]
    └── [설정] → [옵션]
```

### 5.3 피드백 시스템
| 이벤트 | 시각 | 청각 | 촉각 |
|--------|------|------|------|
| 제작 시작 | 제작 애니메이션 | 제작음 | - |
| 제작 완료 | 완료 이펙트 | 완료음 | 진동 (약) |
| 판매 | 골드 애니메이션 | 판매음 | - |
| 레시피 발견 | 황금 연출 | 팡파레 | 진동 (중) |
| 던전 클리어 | 승리 화면 | 승리 BGM | 진동 (중) |

### 5.4 접근성
- **자동 제작**: 반복 제작 자동화
- **자동 판매**: 방치 판매 시스템
- **폰트 크기**: 3단계 조절
- **색맹 모드**: 아이템 등급 패턴 추가
- **원핸드 모드**: UI 한쪽 배치 옵션

---

## 6. 프로덕션 체크리스트

### 핵심 기능
- [ ] 아이템 제작 시스템
- [ ] 상점 진열/판매
- [ ] 던전 탐험
- [ ] 레시피 시스템
- [ ] 방치 수익

### 콘텐츠
- [ ] 50+ 레시피
- [ ] 30+ 재료
- [ ] 5+ 던전
- [ ] NPC 모험가 다양화
- [ ] 튜토리얼

### 메타 시스템
- [ ] 프레스티지 시스템
- [ ] 일일/주간 퀘스트
- [ ] 도전과제
- [ ] 설정 화면
- [ ] 친구 시스템

### 수익화
- [ ] 광고 SDK
- [ ] IAP 상품
- [ ] 상점 UI
- [ ] 시즌 패스

### QA/최적화
- [ ] 경제 밸런싱
- [ ] 성능 최적화
- [ ] 메모리 관리
- [ ] 크래시 리포팅

### 출시 준비
- [ ] 스토어 에셋
- [ ] 앱 설명
- [ ] 법적 문서
- [ ] 소프트 런칭

---

## 7. KPI 목표

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| D1 리텐션 | 45% | Firebase Analytics |
| D7 리텐션 | 18% | Firebase Analytics |
| D30 리텐션 | 7% | Firebase Analytics |
| 세션 길이 | 7분 | 평균 세션 시간 |
| 일일 세션 | 4회 | DAU / 세션 수 |
| ARPU | $0.12~0.18 | 총 매출 / DAU |
| 광고 시청률 | 55~65% | 광고 노출 / DAU |
| 결제 전환율 | 3~5% | 결제 유저 / DAU |

---

*마지막 업데이트: 2025-12-19*
